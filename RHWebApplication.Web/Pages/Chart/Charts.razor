@page "/Charts"
@inject NavigationManager NavigationManager

@using RHWebApplication.Web.Pages.Charts

<PageTitle>Payrolls List</PageTitle>

<AuthorizeView Roles="Admin, Staff">
    <Authorized Context="authContext">
        <MudPaper Class="pa-5" MinHeight="93vh" Style="height: auto;">
            <MudGrid>
                <MudItem xs="12">
                    <MudButton OnClick="AddEmployeeCostChart">Employee Cost</MudButton>
                </MudItem>

                @foreach (var id in _employeeCost)
                {
                    <MudItem xs="12" sm="6">
                        <EmployeeCost Id="id" />
                    </MudItem>
                }
            </MudGrid>

        </MudPaper>
    </Authorized>
    <NotAuthorized>
        @{
            NavigationManager.NavigateTo("/Login");
        }
    </NotAuthorized>
</AuthorizeView>

@code {
    private List<int> _employeeCost = new();
    private int counterId = 1;

    private void AddEmployeeCostChart()
    {
        _employeeCost.Add(counterId);
        counterId++;
    }
}